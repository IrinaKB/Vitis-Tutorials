


<!DOCTYPE HTML>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		
		<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
		<link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.4382/css/CoveoFullSearch.css"/>
		<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<meta name="description"/>
		<meta name="keywords"/>
		<meta property="og:title" content=""/>
		<meta property="og:description"/>
		<!-- favicon -->
		<link rel="icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="../_static/favicon.ico"/>
		<!-- Fonts -->
		<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet" type="text/css"/>

  
  
  
  

  
      <script type="text/javascript" src="../_static/js/jquery.min.js"></script>	
	  <script type="text/javascript" src="../_static/js/gtm.js"></script>
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
    <script type="text/javascript" src="../_static/js/d3dd8c60ed.js"></script>
    <script type="text/javascript" src="../_static/js/common-ui-all.min.js"></script>		
    <script type="text/javascript" src="../_static/js/header-footer.min.js"></script>	
    <script type="text/javascript" src="../_static/js/jquery-ui.min.js"></script>	
    <script type="text/javascript" src="../_static/js/CoveoJsSearch.Lazy.min.js"></script>	
    <script type="text/javascript" src="../_static/js/linkid.js"></script>		
    <script type="text/javascript" src="../_static/js/Searchbox.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/common-ui-all.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/header-footer.min.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/pro.min.css" media="all" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
	</head>
	<body>
		<div class="xilinx-bs3"/>
		<div class="root responsivegrid">
			<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 aem-Grid--large--16 aem-Grid--xlarge--16 aem-Grid--xxlarge--16 aem-Grid--xxxlarge--16 ">
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn aem-GridColumn--default--12">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="header parbase aem-GridColumn aem-GridColumn--default--12">
								<noindex>
									<header data-component="header">
										<nav class="navbar navbar-default aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid main-nav">
													<div class="row">
														<div class="col-xs-12">
															<div class="logo-column">
																<div class="logo">
																	<a href="https://www.xilinx.com/">
																	<img src="https://www.xilinx.com/etc.clientlibs/site/clientlibs/xilinx/all/resources/imgs/header/xilinx-header-logo.svg" title="Xilinx Inc"/>
																	</a>
																</div>
															</div>
															<div class="navbar-column">
																<div class="navbar navbar-collapse collapse" id="xilinx-main-menu">
																	<div class="mobile-search-container">
																		<div id="headerSearchBox" class="headerSearch"
																			data-component="header-search" 
																			data-redirect-if-empty="false"
																			data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																			data-coveo-organization-id="xilinxcomprode2rjoqok">
																			<div class='coveo-search-section'>
																				<div class="CoveoAnalytics" data-search-hub="Site"></div>
																				<ul class="dropdown-menu options">
																					<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																						<a href="#">
																						All</a>
																					</li>
																					<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com//products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Silicon Devices</a>
																					</li>
																					<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com//products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Boards and Kits</a>
																					</li>
																					<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com//products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																						<a href="#">
																						Intellectual Property</a>
																					</li>
																					<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																						<a href="#">
																						Support</a>
																						<ul>
																							<li data-label="Documentation" data-action-link="https://www.xilinx.com//support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																								<a href="#">
																								Documentation</a>
																							</li>
																							<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com//support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																								<a href="#">
																								Knowledge Base</a>
																							</li>
																							<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																								<a href="#">
																								Community Forums</a>
																							</li>
																						</ul>
																					</li>
																					<li data-label="Partners" data-action-link="https://www.xilinx.com//alliance/member-keyword-search.html" data-search-hub="Partner">
																						<a href="#">
																						Partners</a>
																					</li>
																					<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																						<a href="#">
																						Videos</a>
																					</li>
																					<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																						<a href="#">
																						Press</a>
																					</li>
																				</ul>
																				<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																				<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																			</div>
																		</div>
																	</div>
																	<ul class="nav navbar-nav nav-justified">
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/applications.html">
																			Applications</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/products/silicon-devices.html">
																			Products</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://developer.xilinx.com/">
																			Developers</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/support.html">
																			Support</a> 
																		</li>
																		<li class="accordion-toggle-icons" data-component="toggle-dropdown">
																			<a href="https://www.xilinx.com/about/company-overview.html">
																			About</a> 
																		</li>
																	</ul>
																</div>
															</div>
															<script type="text/javascript" src="../_static/js/gtm.js"></script>
															<!--<div class="mini-nav">
																<button type="button" data-function="xilinx-mobile-menu" id="nav-toggle" class="navbar-toggle collapsed visible-xs-block" aria-expanded="false">
																<span></span>
																<span></span>
																<span></span>
																<span></span>
																</button>
																<ul class="list-inline">
																	<li class="dropdown user-menu">
																		<button data-toggle="dropdown">
																		<span class="sr-only">Account</span>
																		<span class="fas fa-user"></span>
																		</button>
																		<ul class="dropdown-menu">
																			<li>
																				<a href="https://www.xilinx.com/myprofile/subscriptions.html">
																				My Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/registration/create-account.html">
																				Create Account</a>
																			</li>
																			<li>
																				<a href="https://www.xilinx.com/bin/protected/en/signout">
																				Sign Out</a>
																			</li>
																		</ul>
																	</li>
																	<li class="hidden-xs">
																		<button data-function="search-toggle">
																		<span class="sr-only">Search</span>
																		<span class="far fa-search"></span>
																		</button>
																	</li>
																</ul>
															</div>
															-->
															<div class="search-container">
																<div id="headerSearchBox" class="headerSearch"
																	data-component="header-search" 
																	data-redirect-if-empty="false"
																	data-coveo-access-token="xxa237d4dd-f0aa-47fc-9baa-af9121851b33"
																	data-coveo-organization-id="xilinxcomprode2rjoqok">
																	<div class='coveo-search-section'>
																		<div class="CoveoAnalytics" data-search-hub="Site"></div>
																		<ul class="dropdown-menu options">
																			<li class="option" data-label="All" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-search-hub="Site">
																				<a href="#">
																				All</a>
																			</li>
																			<li data-label="Silicon Devices" data-action-link="https://www.xilinx.com/products/silicon-devices/si-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Silicon Devices</a>
																			</li>
																			<li data-label="Boards and Kits" data-action-link="https://www.xilinx.com/products/boards-and-kits/bk-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Boards and Kits</a>
																			</li>
																			<li data-label="Intellectual Property" data-action-link="https://www.xilinx.com/products/intellectual-property/ip-keyword-search.html" data-search-hub="Product">
																				<a href="#">
																				Intellectual Property</a>
																			</li>
																			<li data-label="Support" class="option" data-action-link="https://www.xilinx.com/search/support-keyword-search.html" data-search-hub="Support">
																				<a href="#">
																				Support</a>
																				<ul>
																					<li data-label="Documentation" data-action-link="https://www.xilinx.com/support/documentation-navigation/documentation-keyword-search.html" data-search-hub="Document">
																						<a href="#">
																						Documentation</a>
																					</li>
																					<li data-label="Knowledge Base" data-action-link="https://www.xilinx.com/support/answer-navigation/answer-keyword-search.html" data-search-hub="AnswerRecord">
																						<a href="#">
																						Knowledge Base</a>
																					</li>
																					<li data-label="Community Forums" data-action-link="https://www.xilinx.com/search/forums-keyword-search.html" data-search-hub="Forums">
																						<a href="#">
																						Community Forums</a>
																					</li>
																				</ul>
																			</li>
																			<li data-label="Partners" data-action-link="https://www.xilinx.com/alliance/member-keyword-search.html" data-search-hub="Partner">
																				<a href="#">
																				Partners</a>
																			</li>
																			<li data-label="Videos" data-action-link="https://www.xilinx.com/video/video-keyword-search.html" data-search-hub="Video">
																				<a href="#">
																				Videos</a>
																			</li>
																			<li data-label="Press" data-action-link="https://www.xilinx.com/search/press-keyword-search.html" data-search-hub="Press">
																				<a href="#">
																				Press</a>
																			</li>
																		</ul>
																		<a href="#" class="btn dropdown-toggle value" data-toggle="dropdown"></a>
																		<div class="CoveoSearchbox" data-id="coveosearchbox" data-action-link="https://www.xilinx.com/search/site-keyword-search.html" data-placeholder="Search Xilinx"></div>
																	</div>
																</div>
																<button data-function="search-toggle">
																<span class="sr-only">Search</span>
																<span class="far fa-times"></span>
																</button>
															</div>
														</div>
													</div>
												</div>
											</div>
										</nav>
									</header>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="parsys aem-GridColumn--xxxlarge--none aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
						<div class="container-fluid">
							<div class="row">
							<div class="col-xs-12">
   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../README.html" class="icon icon-home" alt="Documentation Home"> Vitis™ Application Acceleration Development Flow Tutorials
          

          
          </a>

          
            
            
              <div class="version">
                2020.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started Pathway</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../vitis-getting-started/README.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vitis-execution-model/README.html">Execution Model of an FPGA Accelerated Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../alveo-getting-started/README.html">Getting Started with the Alveo Portfolio</a></li>
<li class="toctree-l1"><a class="reference internal" href="README.html">Essential Concepts for Building and Running the Accelerated Application</a></li>
<li class="toctree-l1"><a class="reference internal" href="../my-first-program/README.html">My First Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../convolution-tutorial/README.html">Optimizing Accelerated FPGA Applications: Convolution Example</a></li>
</ul>
<p class="caption"><span class="caption-text">Intermediate</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started-rtl-kernels/README.html">Getting Started with RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vitis_hls_analysis/README.html">Vitis HLS Analysis and Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mixing-c-rtl-kernels/README.html">Mixing C++ and RTL Kernels</a></li>
<li class="toctree-l1"><a class="reference internal" href="../using-multiple-cu/README.html">Using Multiple Compute Units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../host-code-opt/README.html">Host Code Optimization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mult-ddr-banks/README.html">Using Multiple DDR Banks</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../controlling-vivado-impl/README.html">Controlling Vivado Implementation</a></li>
</ul>
<p class="caption"><span class="caption-text">Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/Vitis-Tutorials/2020-1/docs/README.html">Master</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/Xilinx/Vitis-Tutorials/blob/master/README.md">2019.2</a></li>
</ul>

            
			
			<p class="caption"><span class="caption-text">This Page</span></p>
				<ul class="current">
				  <li class="toctree-l1"><a href="../_sources/Pathway3/ProfileAndTraceReports.md.txt"
						rel="nofollow">Show Source</a></li>						
				</ul>
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../README.html">Vitis™ Application Acceleration Development Flow Tutorials</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../README.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>3. Generating Profile and Trace Reports</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Pathway3/ProfileAndTraceReports.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <table class="sphinxhide">
 <tr>
   <td align="center"><img src="https://www.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>2020.1 Vitis™ Application Acceleration Development Flow Tutorials</h1>
   <a href="https://github.com/Xilinx/Vitis-Tutorials/branches/all">See 2019.2 Vitis Application Acceleration Development Flow Tutorials</a>
   </td>
 </tr>
 <tr>
 <td>
 </td>
 </tr>
</table><div class="section" id="generating-profile-and-trace-reports">
<h1>3. Generating Profile and Trace Reports<a class="headerlink" href="#generating-profile-and-trace-reports" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>To better understand the design, you can generate a Profile Summary and Application Timeline reports.</p>
<ul class="simple">
<li><p>The Profile Summary provides annotated details regarding the overall application performance.</p></li>
<li><p>The Application Timeline collects and displays host and device events on a common timeline to help you understand and visualize the overall health and performance of your systems.</p></li>
</ul>
<p>The Profile Summary and Timeline Trace reports are available for all build targets (<code class="docutils literal notranslate"><span class="pre">sw_emu</span></code>, <code class="docutils literal notranslate"><span class="pre">hw_emu</span></code>, and <code class="docutils literal notranslate"><span class="pre">hw</span></code>). However, the granularity of the reports can be different for different build targets. For example, with the <code class="docutils literal notranslate"><span class="pre">sw_emu</span></code> build, the Profile Summary report will not include any data transfer details under kernel execution efficiency and data transfer efficiency.</p>
<p>This lab uses Hardware Emulation to illustrate the steps of profiling. The steps here can be easily migrated to other flows by targeting <code class="docutils literal notranslate"><span class="pre">sw_emu</span></code> or <code class="docutils literal notranslate"><span class="pre">hw</span></code> (<code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">sw_emu</span></code> or <code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">hw</span></code>).</p>
<blockquote>
<div><p><strong>IMPORTANT:</strong> Turning on device profiling for the system build (<code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">hw</span></code>) is intrusive and can negatively affect overall application performance. This feature should only be used for performance debugging and should be disabled in the production build.</p>
</div></blockquote>
</div>
<div class="section" id="before-you-begin">
<h2>Before You Begin<a class="headerlink" href="#before-you-begin" title="Permalink to this headline">¶</a></h2>
<p>Before running this lab, it is required to run the <a class="reference external" href="/docs/Pathway3/BuildingAnApplication">Building an Application</a> lab and <a class="reference external" href="/docs/Pathway3/Emulation">Running Software and Hardware Emulation</a> lab.</p>
</div>
<div class="section" id="generating-emulation-data">
<h2>Generating Emulation Data<a class="headerlink" href="#generating-emulation-data" title="Permalink to this headline">¶</a></h2>
<p>The Profile Summary and Application Timeline reports are not enabled by default because the generated emulation data requires more time to run and added disk space. Therefore, you must enable the profiling data collection before running emulation. This is done by setting options in an <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> text file, located in the same directory as the host program, in this case the <code class="docutils literal notranslate"><span class="pre">./reference-files/run</span></code> directory. For more information on the <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> file, see the <a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/rdoc?v=2020.1%3Bt=vitis+doc%3Bd=yxl1556143111967.html">Vitis Environment Reference Materials</a> in the Application Acceleration Development flow of the Vitis Unified Software Platform Documentation (UG1416).</p>
<div class="section" id="create-the-xrt-ini-file">
<h3>Create the xrt.ini File<a class="headerlink" href="#create-the-xrt-ini-file" title="Permalink to this headline">¶</a></h3>
<p>First, create the <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> file, and add the required options. The <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> file configures Xilinx Runtime (XRT) to support a variety of features for debug, emulation, and reporting, that can be enabled at runtime. These features can be enabled when needed and disabled to improve performance and reduce application resource consumption.</p>
<ol>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">./reference-files/run</span></code> directory, create a file called <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code>.</p></li>
<li><p>Enter following lines in the file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Debug</span><span class="p">]</span>
<span class="n">profile</span><span class="o">=</span><span class="n">true</span>
<span class="n">timeline_trace</span><span class="o">=</span><span class="n">true</span>
<span class="n">data_transfer_trace</span><span class="o">=</span><span class="n">fine</span>
</pre></div>
</div>
<blockquote>
<div><p><strong>Command Options and Descriptions</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[Debug]</span></code>: Debug specific commands to follow</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile=true</span></code>: Enable profile monitoring</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeline_trace=true</span></code>: Enable timeline trace information gathering</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">data_transfer_trace=&lt;value&gt;</span></code>: Enables device-level AXI data transfer information.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">fine</span></code>: Show all AXI-level burst data transfers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">coarse</span></code>: Show the compute unit (CU) transfer activity from the beginning of first transfer to end of last transfer (before compute unit transfer ends).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">off</span></code>: Turn off reading and reporting of device-level trace during runtime.</p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
<li><p>Save and close the file.</p></li>
</ol>
</div>
<div class="section" id="specify-profile-kernel-to-build-and-run-hardware-emulation">
<h3>Specify –profile_kernel to Build and Run Hardware Emulation<a class="headerlink" href="#specify-profile-kernel-to-build-and-run-hardware-emulation" title="Permalink to this headline">¶</a></h3>
<p>With profiling and the timeline trace enabled in the <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> file, performance data is gathered during emulation and saved to CSV files. However, it is also necessary to build the device binary (.xclbin) using the <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code> option during the hardware linking stage to allow performance information to be captured from the Xilinx device. For more information on <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code>, refer to the <a class="reference external" href="https://www.xilinx.com/html_docs/xilinx2020_2/vitis_doc/yxl1556143111967.html">Vitis Environment Reference Materials</a> in the Application Acceleration Development flow of the Vitis Unified Software Platform Documentation (UG1416).</p>
<ol>
<li><p>Edit the <code class="docutils literal notranslate"><span class="pre">design.cfg</span></code> file to add the <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code> option as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">platform</span><span class="o">=</span><span class="n">xilinx_u200_xdma_201830_2</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">1</span>
<span class="n">save</span><span class="o">-</span><span class="n">temps</span><span class="o">=</span><span class="mi">1</span>
<span class="n">profile_kernel</span><span class="o">=</span><span class="n">data</span><span class="p">:</span><span class="nb">all</span><span class="p">:</span><span class="nb">all</span><span class="p">:</span><span class="nb">all</span>

<span class="p">[</span><span class="n">connectivity</span><span class="p">]</span>
<span class="n">nk</span><span class="o">=</span><span class="n">mmult</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="n">mmult_1</span>
</pre></div>
</div>
</li>
<li><p>Rebuild the kernel using the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>v++ -t hw_emu --config design.cfg -c -k mmult -I<span class="s1">&#39;../src&#39;</span> -o mmult.hw_emu.xilinx_u200_xdma_201830_2.xo ../src/mmult.cpp
v++ -t hw_emu --config design.cfg -l -o mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin mmult.hw_emu.xilinx_u200_xdma_201830_2.xo
</pre></div>
</div>
<blockquote>
<div><p><strong>TIP:</strong> The <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code> option can also be specified on the <code class="docutils literal notranslate"><span class="pre">v++</span></code> command line.</p>
</div></blockquote>
<p>This generates a new <code class="docutils literal notranslate"><span class="pre">.xclbin</span></code> file which supports profiling the kernels. For details on building a design, refer to the <a class="reference external" href="/docs/Pathway3/BuildingAnApplication">Building an Application</a> lab.</p>
</li>
<li><p>After the build is complete, run emulation using the following commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>emconfigutil --platform xilinx_u200_xdma_201830_2
<span class="nb">export</span> <span class="nv">XCL_EMULATION_MODE</span><span class="o">=</span>hw_emu
./host mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="view-the-run-summary">
<h3>View the Run Summary<a class="headerlink" href="#view-the-run-summary" title="Permalink to this headline">¶</a></h3>
<p>After running emulation, the following files are generated in the execution directory.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">run_summary</span></code> (Vitis analyzer Run Summary)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">profile_summary.csv</span></code> (Profile Report)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timeline_trace.csv</span></code> (Timeline Trace)</p></li>
</ul>
<p>The Vitis analyzer can be used to load the <code class="docutils literal notranslate"><span class="pre">run_summary</span></code> file, which also loads the Profile Summary and Timeline Trace. For more information on the Vitis analyzer, see to the <a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/rdoc?v=2020.1%3Bt=vitis+doc%3Bd=jfn1567005096685.html">Using the Vitis Analyzer</a> in the Application Acceleration Development flow of the Vitis Unified Software Platform Documentation (UG1416).</p>
<blockquote>
<div><p><strong>IMPORTANT:</strong> The <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> must have <code class="docutils literal notranslate"><span class="pre">profile=true</span></code> and <code class="docutils literal notranslate"><span class="pre">timeline_trace=true</span></code> to generate the run_summary from the hardware emulation run, as described earlier in this Lab.</p>
</div></blockquote>
<ol>
<li><p>Run the following command to open the <code class="docutils literal notranslate"><span class="pre">run_summary</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vitis_analyzer mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin.run_summary
</pre></div>
</div>
</li>
<li><p>Select the Profile Summary report, as shown in the following figure. You can see information related to kernel execution time, host to global memory data transfer and kernel to global memory data transfer.</p>
<p><img alt="ProfileReport" src="../_images/vitis_analyzer-profile_summary.png" /></p>
<ol class="simple">
<li><p>Select the Timeline Trace view. You will see information about the events including kernel running, data read and write from host, OpenCL API calls, etc.</p></li>
</ol>
<p><img alt="Timeline" src="../_images/vitis_analyzer-timeline_trace.png" /></p>
<p>For more information about interpreting the Profile Summary and Timeline Trace reports, refer to the <a class="reference external" href="https://www.xilinx.com/cgi-bin/docs/rdoc?v=2020.1%3Bt=vitis+doc%3Bd=wzc1553475252001.html">Profiling, Optimizing, and Debugging the Application</a> in the Application Acceleration Development flow of the Vitis Unified Software Platform Documentation (UG1416).</p>
</li>
</ol>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h2>Putting it All Together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h2>
<p>Below is a summary of all the steps necessary to generate and view Profile Summary and Timeline Trace reports.</p>
<ol>
<li><p>Create the <code class="docutils literal notranslate"><span class="pre">xrt.ini</span></code> file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>Debug<span class="o">]</span>
<span class="nv">profile</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">timeline_trace</span><span class="o">=</span><span class="nb">true</span>
<span class="nv">data_transfer_trace</span><span class="o">=</span>fine
</pre></div>
</div>
</li>
<li><p>Add the <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code> option to the <code class="docutils literal notranslate"><span class="pre">design.cfg</span></code> file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">platform</span><span class="o">=</span><span class="n">xilinx_u200_xdma_201830_2</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">1</span>
<span class="n">save</span><span class="o">-</span><span class="n">temps</span><span class="o">=</span><span class="mi">1</span>
<span class="n">profile_kernel</span><span class="o">=</span><span class="n">data</span><span class="p">:</span><span class="nb">all</span><span class="p">:</span><span class="nb">all</span><span class="p">:</span><span class="nb">all</span>

<span class="p">[</span><span class="n">connectivity</span><span class="p">]</span>
<span class="n">nk</span><span class="o">=</span><span class="n">mmult</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="n">mmult_1</span>
</pre></div>
</div>
</li>
<li><p>Build the platform with <code class="docutils literal notranslate"><span class="pre">--profile_kernel</span></code> option.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>v++ -t hw_emu --config design.cfg -c -k mmult -I<span class="s1">&#39;../src&#39;</span> -o mmult.hw_emu.xilinx_u200_xdma_201830_2.xo ../src/mmult.cpp
v++ -t hw_emu --config design.cfg -l  -o mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin mmult.hw_emu.xilinx_u200_xdma_201830_2.xo
</pre></div>
</div>
</li>
<li><p>Run the application.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>emconfigutil --platform xilinx_u200_xdma_201830_2
<span class="nb">export</span> <span class="nv">XCL_EMULATION_MODE</span><span class="o">=</span>hw_emu
./host mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin
</pre></div>
</div>
</li>
<li><p>View the Run Summary, and the associated reports.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>vitis_analyzer mmult.hw_emu.xilinx_u200_xdma_201830_2.xclbin.run_summary
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="next-steps">
<h1>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h1>
<p>After you perform emulation to check correctness and performance, run application in a real device. The <a class="reference external" href="/docs/Pathway3/HardwareExec">Execute in Hardware</a> lab details how to run application in hardware.
</br></p>
<hr/>
<p align="center" class="sphinxhide"><b><a href="/docs/vitis-getting-started/">Return to Getting Started Pathway</a> — <a href="/docs/Pathway3/README.md">Return to Start of Tutorial</a></b></p><p align="center" class="sphinxhide"><sup>Copyright&copy; 2020 Xilinx</sup></p></div>


           </div>
           
          </div>
          <footer>
<!-- Atalwar: Moved the footer code to layout.html to resolve conflict with the Xilinx template -->
</footer>

        </div>
      </div>
	  
	  
	  <!-- Sphinx Page Footer block -->
  

  <hr/>

  <div role="contentinfo" class="copyright">
    <p class="footerinfo">
      <span class="lastupdated">
        Last updated on July 23, 2020.
      </span>

    </p>
  </div>	  
      </div>
    </section>


  




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

   <script type="text/javascript">
    jQuery(function() { Search.loadIndex("searchindex.js"); });
  </script>

  <script type="text/javascript" id="searchindexloader"></script>     	    
	    
	    
  
  
    
  
  

  
  <!--  Xilinx template footer block -->
							</div>
						</div>
					</div>
				</div>
				<div class="xilinxExperienceFragments experiencefragment aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<div class="xf-content-height">
						<div class="aem-Grid aem-Grid--16 aem-Grid--default--16 ">
							<div class="footer parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
								<noindex>
									<footer>
										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">
													<div class="row">
														<div class="footerSocial parbase">
															<div class="col-md-push-6 col-lg-push-6 col-md-6 col-lg-6">
																<ul class="list-inline pull-right social-menu">
																	<li>
																		<a href="https://www.linkedin.com/company/xilinx">
																		<span class="linkedin icon"></span>
																		<span class="sr-only">Connect on LinkedIn</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.twitter.com/XilinxInc">
																		<span class="twitter icon"></span>
																		<span class="sr-only">Follow us on Twitter</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.facebook.com/XilinxInc">
																		<span class="facebook icon"></span>
																		<span class="sr-only">Connect on Facebook</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.youtube.com/XilinxInc">
																		<span class="youtube icon"></span>
																		<span class="sr-only">Watch us on YouTube</span>
																		</a>
																	</li>
																	<li>
																		<a href="https://www.xilinx.com/registration/subscriber-signup.html">
																		<span class="newsletter icon"></span>
																		<span class="sr-only">Subscribe to Newsletter</span>
																		</a>
																	</li>
																</ul>
															</div>
														</div>
														<div class="col-md-pull-6 col-lg-pull-6 col-md-6 col-lg-6">
															<span class="copyright">
                                  
                                  &copy; 2020, Xilinx
                              </span>
															<ul class="list-inline sub-menu">
																<li>
																	<a href="https://www.xilinx.com/about/privacy-policy.html">Privacy</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/legal.html">Legal</a>
																</li>
																<li>
																	<a href="https://www.xilinx.com/about/contact.html">Contact</a>
																</li>
															</ul>
														</div>
													</div>
												</div>
											</div>
										</div>
									</footer>
								</noindex>
							</div>
						</div>
					</div>
				</div>
				<div class="quicklinks parbase aem-GridColumn--default--none aem-GridColumn aem-GridColumn--offset--default--0 aem-GridColumn--default--16">
					<noindex>
						<span class="quickLinks">
							<ul>
								<li>
									<a href="#top" class="btn backToTop">
									<span class="fas fa-angle-up" aria-hidden="true"></span>
									</a>
								</li>
							</ul>
						</span>
					</noindex>
				</div>
			</div>
		</div>
		<script>window.CQ = window.CQ || {}</script>
		<script src="https://static.cloud.coveo.com/searchui/v2.4382/js/CoveoJsSearch.Lazy.min.js"></script>
		<script>
			var underscoreSetup = function () {
			  _.templateSettings.interpolate = /\{\{=([^-][\S\s]+?)\}\}/g;
			  _.templateSettings.evaluate = /\{\{([^-=][\S\s]+?)\}\}/g;
			  _.templateSettings.escape = /\{\{-([^=][\S\s]+?)\}\}/g;
			}
			
			underscoreSetup();
		</script>
	</body>
</html>
<table>
 <tr>
   <td align="center"><img src="https://japan.xilinx.com/content/dam/xilinx/imgs/press/media-kits/corporate/xilinx-logo.png" width="30%"/><h1>2019.2 Vitis™ アプリケーション アクセラレーション開発フローのチュートリアル</h1><a href="https://github.com/Xilinx/SDAccel-Tutorials/branches/all">SDAccel™ 開発環境 2019.1 チュートリアルを参照</a></td>
 </tr>
 <tr>
 <td align="center"><h1>アクセラレーション FPGA アプリケーション: ブルーム フィルターの例</td>
 </tr>
</table>

# 概要

FPGA でのアプリケーションの高速化手法には 2 段階あり、1 つがアプリケーションの設計、もう 1 つがユーザーのパフォーマンス目標を満たすためのアクセラレータの開発です。

* 第 1 段階では、どのソフトウェア ファンクションを FPGA カーネルにマップするか、どれくらい並列処理が必要か、その並列処理をどう実行するかなど、開発者がアプリケーションのアーキテクチャに関する重要事項を決定します。
* 第 2 段階では、パフォーマンス目標を達成できるカーネル アーキテクチャを設計するため、ソース コードを変更し、pragma を適用して、カーネルをインプリメントします。

このチュートリアルは、ハードウェア アクセラレーションのポテンシャルを確認するため、ベースライン アプリケーションおよびプロファイルを使用して始めます。チュートリアル アプリケーションではまず、ブルーム フィルターを使用した検索プロファイルに基づいて、ユーザーの関心にぴったりと一致するドキュメントを探すため、ドキュメントの入力ストリームを検索します。

一般的に、このアプリケーションにはデータ アナリティクスにおけるユース ケースがあり、たとえば、メールおよびテキスト ファイルの構造化されていないデータを検索し、特定ユーザーに関連したドキュメントを特定し、適切な通知を送信します。

このチュートリアルでは、次の最適化テクニックを利用して作業します。

* メモリ転送最適化
* データフローおよびストリーム
* 複数の演算ユニット (CU) およびアウト オブ オーダー (データ部と演算部の重複)
* 複数の DDR バンクおよび PLRAM

# 始める前に

このチュートリアルの演習では次のものを使用します。

* BASH Linux シェル コマンド。
* 2019.2 Vitis コア開発キット リリースおよび *xilinx\_u200\_xdma\_201830\_2* プラットフォーム。必要であれば、ほかのバージョンおよびプラットフォームに簡単に移行できます。
* `Makefile` (ステップや変数といった詳細情報が含まれています)。`Makefile` の構造および内容については、[Makefile について](./HowToRunTutorial.md)を参照してください。

> **重要:**
>
> * サンプルを実行する前に、[インストール](https://japan.xilinx.com/html_docs/xilinx2019_2/vitis_doc/vhc1571429852245.html)で説明されているとおりに、Vitis コア開発キットがインストールされていることを確認してください。
> * ザイリンクス Alveo™ データセンター アクセラレータ カードでアプリケーションを実行する場合は、『Alveo データセンター アクセラレータ カード入門』 ([UG1301](https://japan.xilinx.com/support/documentation/boards_and_kits/accelerator-cards/j_ug1301-getting-started-guide-alveo-accelerator-cards.pdf)) で説明されている手順に従って、このカードおよびソフトウェアで説明されている手順に従って、このカードおよびソフトウェア ドライバーが正しくインストールされていることを確認してください。

## チュートリアル リファレンス ファイルへのアクセス

1. リファレンス ファイルにアクセスするには、ターミナルに「`git clone http://github.com/Xilinx/Vitis-Tutorials`」と入力します。
2. `bloom` ディレクトリを参照してから `design` ディレクトリにアクセスします。

## チュートリアルの概要

1. [元のアプリケーションの評価](original.md): この演習では、元の C++ ベースのアプリケーションで、ブルーム フィルターを使用したドキュメントのスコアを計算します。また、アクセラレーション アプリケーションの現実的なパフォーマンス目標の設定についても説明します。
2. [C アプリケーションからの Vitis コア開発キット アプリケーションの作成](baseline_fpga.md): OpenCL™ API を使用してホストにより呼び出されるホスト プログラムおよびハードウェア カーネルに、元の C コードを変換します。
3. [メモリ転送の最適化](localbuf.md): メモリ アクセスを向上させるため、ハードウェア カーネルを最適化する方法を学びます。FPGA 帯域幅を効率よく使用するためのローカル キャッシュの使用方法を学びます。
4. [データフローを使用した最適化](dataflow.md): カーネルのデータパスを改善するため、データフローを適用してストリーミングして、カーネルの演算効率を改善します。
5. [アウト オブ オーダー キューおよび複数の演算ユニットの使用](multicu.md): 複数のカーネルを合成してアウト オブ オーダー タスク実行を可能にし、アクセラレータでの並列処理を増やすため、ホスト プログラムの OpenCL API コールを変更します。
6. [複数の DDR バンクを使用した最適化](multiddr.md): DDR バンクへのカーネル コネクティビティのために makefile を変更し、また、異なる DDR バンクに入力ドキュメントを正しく割り当てるためにホスト プログラムを変更します。
7. [ハードウェアでのアクセラレータの実行](runningonhardware.md): ここまでのステップはすべてハードウェア エミュレーション モードで実行されています。ここではアクセラレーション ハードウェアでアプリケーションを実行します。</br>

<hr/>
<p align= center><b><a href="../../README.md">メイン ページに戻る</a> &mdash; <a href="../../docs/vitis-getting-started/README.md">入門ガイドの最初に戻る</a></b></p></br><p align="center"><sup>Copyright&copy; 2019 Xilinx</sup></p>

この資料は表記のバージョンの英語版を翻訳したもので、内容に相違が生じる場合には原文を優先します。資料によっては英語版の更新に対応していないものがあります。日本語版は参考用としてご使用の上、最新情報につきましては、必ず最新英語版をご参照ください。
